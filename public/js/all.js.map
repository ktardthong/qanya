{"version":3,"sources":["home.js","ngApps.js","postController.js","profileController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["function getFeedCate(slug){\n    $.get( \"/getFeed/\", { slug: slug } )\n        .done(function( data ) {\n            $('#homeFeed').html(data);\n        });\n}","//Angular config and modules\n\nvar app = angular.module('App', ['ngMaterial','flow','angularMoment'])\n\n.config([\"$mdThemingProvider\", function ($mdThemingProvider) {\n    $mdThemingProvider.definePalette('slack', {\n        '50': 'ffebee',\n        '100': 'ffcdd2',\n        '200': 'ef9a9a',\n        '300': 'e57373',\n        '400': 'ef5350',\n        '500': '4D394B', // primary colour\n        '600': 'e53935',\n        '700': 'd32f2f',\n        '800': 'c62828',\n        '900': 'b71c1c',\n        'A100': 'ff8a80',\n        'A200': 'ff5252',\n        'A400': 'ff1744',\n        'A700': 'd50000',\n        'contrastDefaultColor': 'light', // whether, by default, text (contrast)\n        // on this palette should be dark or light\n        'contrastDarkColors': ['50', '100', // hues which contrast should be 'dark' by default\n            '200', '300', '400', 'A100'],\n        'contrastLightColors': undefined // could also specify this if default was 'dark'\n    })\n    $mdThemingProvider.theme('default')\n        .primaryPalette('slack')\n}])\n","angular.module('App')\n    .controller('PostCtrl',function($http,$mdDialog){\n\n        var postCtrl = this;\n\n        postCtrl.displayname ={\n            'text' :'',\n            'saveBtn':  false,\n            'alert':    false\n        }\n\n        postCtrl.topicTags = [];\n        postCtrl.postFollow = 'Follow';\n        postCtrl.topicReply = '';\n\n\n        postCtrl.showLogin = function(ev) {\n        var useFullScreen = ($mdMedia('sm') || $mdMedia('xs'))  && $scope.customFullscreen;\n            $mdDialog.show({              \n              templateUrl: 'dialog1.tmpl.html',\n              parent: angular.element(document.body),\n              targetEvent: ev,\n              clickOutsideToClose:true,\n              fullscreen: useFullScreen\n            })\n        }\n\n\n        //Follow categories\n        postCtrl.followCate = function(slug){\n\n            $http.post('/follow-cate/', {slug: slug})\n                .then(function(response){\n                    console.log(response)\n                });\n        }\n\n\n        //Follower user\n        //@Params uuid - author ID\n        postCtrl.followUser = function(uuid)\n        {\n            $http.post('/followUser/', { data: uuid})\n                .then(function(response){\n                    if(response.data == 0)\n                    {\n                        postCtrl.postFollow = 'follow';\n                    }else{\n\n                        postCtrl.postFollow = 'following';\n                    }\n                });\n        }\n\n\n        //Is currently following user\n        //@Params uuid - author ID\n        postCtrl.isFollow = function(uuid)\n        {\n            $http.post('/userFollowStatus/', { data: uuid})\n                .then(function(response){\n                    if(response.data == 0)\n                    {\n                        postCtrl.postFollow = 'follow';\n                    }else{\n                        postCtrl.postFollow = 'following';\n                    }\n                });\n        }\n\n\n        postCtrl.getFeedCate = function(slug){\n            postCtrl.slug = slug;\n            $http.post('/getFeed/', {slug: slug})\n                .then(function(response){\n                    $('#homeFeed').html(response.data);\n                });\n        }\n\n\n        postCtrl.checkDisplayname = function(){\n\n            $http.post('/check-name', {name: postCtrl.displayname.text})\n                .then(function(response){\n                if(response.data == \"0\"){\n                    postCtrl.displayname.saveBtn = true;\n                    postCtrl.displayname.alert   = false;\n                }else{\n                    postCtrl.displayname.saveBtn = false;\n                    postCtrl.displayname.alert   = true;\n                }\n            });\n        }\n\n\n        //Reply in the post\n        postCtrl.postReply = function(uuid,topics_uid)\n        {\n            var replyObj = 'reply_append_'+uuid;\n            $http.post('/replyTopic', {uuid: uuid,\n                                       topics_uid: topics_uid,\n                                       data: $('#topicReplyContainer').html() })\n                .then(function(response){\n                    console.log(response);\n                })\n        }\n\n\n        //Post topic\n        postCtrl.postTopic = function()\n        {\n            var imgIds = new Array();\n\n            $(\"div#contentBody img\").each(function(){\n                imgIds.push($(this).attr('src'));\n            });\n\n            var data = { title:         postCtrl.title,\n                         categories:    postCtrl.categories,\n                         tags:          postCtrl.topicTags,\n                         body:          $('#contentBody').html(),\n                         images:        imgIds\n                        };\n            $.post( \"/api/postTopic/\", { data: data} )\n                .done(function( response ) {\n                    url = '/'+response.author+'/'+response.slug;\n                    window.location = url;\n                })\n\n        }\n\n        //Preview images\n        postCtrl.imageStrings = [];\n        postCtrl.processFiles = function(files){\n            angular.forEach(files, function(flowFile, i){\n                console.log(flowFile);\n                var fileReader = new FileReader();\n                fileReader.onload = function (event) {\n                    var uri = event.target.result;\n                    postCtrl.imageStrings[i] = uri;\n                    $.post( \"/api/previewImage/\", { data: uri} )\n                        .done(function( response ) {\n                            $('#contentBody').append('<img src=\\\"'+response+'\\\" class=\\\"img-fluid\\\">');\n                        })\n                };\n                fileReader.readAsDataURL(flowFile.file);\n            });\n\n        };\n    })","angular.module('App')\n    .controller('ProfileCtrl',function($http,$mdToast){\n\n        var profileCtrl = this;\n\n        profileCtrl.profileDescription='';\n        profileCtrl.unreadNotification = 0;\n\n\n        //Acknowledge notification\n        profileCtrl.ackNotificataion = function()\n        {\n            $http.post('/ackNotification')\n                .then(function(response){\n                    profileCtrl.unreadNotification = response.data;\n                });\n        }\n\n        //Get the number of unread notificaiton\n        profileCtrl.userNotification = function()\n        {\n            $http.post('/getNotification')\n                .then(function(response){\n                    profileCtrl.unreadNotification = response.data;\n                });\n        }\n\n        profileCtrl.updateDescription = function()\n        {\n            $http.post('/user/update-description',\n                {name: $('#profileDescription').html()})\n                .then(function(response){\n\n                    $mdToast.show(\n                        $mdToast.simple()\n                            .textContent('Save!')\n                            .position('top')\n                            .hideDelay(3000)\n                    );\n                });\n        }\n    })"],"sourceRoot":"/source/"}